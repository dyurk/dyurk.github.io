<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | DYURK | David Yurkiewicz]]></title>
  <link href="http://dyurk.github.io/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://dyurk.github.io/"/>
  <updated>2013-12-21T22:41:56-05:00</updated>
  <id>http://dyurk.github.io/</id>
  <author>
    <name><![CDATA[David Yurkiewicz]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Confluence XML Import Issues]]></title>
    <link href="http://dyurk.github.io/blog/2013/03/26/confluence-xml-import-issues/"/>
    <updated>2013-03-26T13:35:01-04:00</updated>
    <id>http://dyurk.github.io/blog/2013/03/26/confluence-xml-import-issues</id>
    <content type="html"><![CDATA[<p>Find the class that the import is having issues with. For this example ContentPermission is the problem.</p>

<pre class="prettyprint">Error while importing backup: not-null property references a null or transient value: com.atlassian.confluence.security.ContentPermission.owningSet
Caused by: net.sf.hibernate.PropertyValueException: not-null property references a null or transient value: com.atlassian.confluence.security.ContentPermission.owningSet</pre>


<p>Delete all ContentPermission entries from the XML file &ndash; this will remove all unnecessary/unsupported classes and will allow the import to continue. Open the zip file and edit entities.xml</p>

<br>


<p>Search for <code>&lt;object class="ContentPermission"...&gt;</code> You will see <code>&lt;object&gt;</code> entries like this:</p>

<p>```xml</p>

<object class="ContentPermission" package="com.atlassian.confluence.security">
<id name="id">17072133</id>
<property name="type">&lt;![CDATA[View]]&gt;</property>
<property name="userName">&lt;![CDATA[corporatetrainer]]&gt;</property>
<property name="groupName"/><property name="owningSet" class="ContentPermissionSet" package="com.atlassian.confluence.security"><id name="id">17039363</id>
</property>
<property name="creatorName">&lt;![CDATA[corporatetrainer]]&gt;</property>
<property name="creationDate">2011-05-19 10:22:05.000</property>
<property name="lastModifierName">&lt;![CDATA[corporatetrainer]]&gt;</property>
<property name="lastModificationDate">2011-05-19 10:22:05.000</property>
</object>


<p>```</p>

<p>Helpful on-liner to remove the entries from entities.xml</p>

<p><code>bash
$ sed -i '/&lt;object class="ContentPermission"/,/&lt;\/object&gt;/d' entities.xml
</code></p>

<p>Make sure there are no syntax errors that will cause the import to fail</p>

<pre>xmllint --noout entities.xml</pre>


<p>Retry the import and Good Luck!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Temporarily Disable Puppet]]></title>
    <link href="http://dyurk.github.io/blog/2013/02/20/temporarily-disable-puppet/"/>
    <updated>2013-02-20T21:26:26-05:00</updated>
    <id>http://dyurk.github.io/blog/2013/02/20/temporarily-disable-puppet</id>
    <content type="html"><![CDATA[<p>This is can be done by an admin disabled of Puppet</p>

<pre># puppet agent --disable "Reason why disabled"</pre>


<p>To make sure it&rsquo;s disable, just do a Puppet run;</p>

<pre># puppet agent -t
 Notice: Skipping run of Puppet configuration client; administratively disabled (Reason: 'Testing some new things');
 Use 'puppet agent --enable' to re-enable.</pre>


<p>To enable:</p>

<pre>puppet agent --enable</pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Confluence Backup Errors]]></title>
    <link href="http://dyurk.github.io/blog/2013/02/20/confluence-backup-errors/"/>
    <updated>2013-02-20T15:17:32-05:00</updated>
    <id>http://dyurk.github.io/blog/2013/02/20/confluence-backup-errors</id>
    <content type="html"><![CDATA[<pre>The following error(s) occurred:
com.atlassian.confluence.importexport.ImportExportException: Couldn't backup database data. at com.atlassian.confluence.importexport.impl.AbstractXmlExporter.backupEntities(AbstractXmlExporter.java:197) at com.atlassian.confluence.importexport.impl.AbstractXmlExporter.backupEverything(AbstractXmlExporter.java:99) at com.atlassian.confluence.importexport.impl.FileXmlExporter.backupEverything(FileXmlExporter.java:76)</pre>


<p>Java is running out of memory.</p>

<p>To increase heap or perm gen space memory in Linux installations,</p>

<p>Edit $CONFLUENCE_HOME/bin/setenv.sh</p>

<p>Find the section <code>JAVA_OPTS="-Xms256m -Xmx512m -XX:MaxPermSize=256m</code> and set accordingly.  Xmx is maximum, Xms is minimum, and MaxPermSize is PermGen.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git 1.8.x on CentOS]]></title>
    <link href="http://dyurk.github.io/blog/2013/02/08/git-1-8-x-on-centos/"/>
    <updated>2013-02-08T17:16:13-05:00</updated>
    <id>http://dyurk.github.io/blog/2013/02/08/git-1-8-x-on-centos</id>
    <content type="html"><![CDATA[<p>At the moment this is not on EPEL &amp; CentOS repo, you&rsquo;ll have to compile from source.</p>

<p>Get the desired version: <a href="http://code.google.com/p/git-core/downloads/list"><a href="http://code.google.com/p/git-core/downloads/list">http://code.google.com/p/git-core/downloads/list</a></a></p>

<pre>tar -xzvf ./git-1.8.x.tar.gz</pre>


<pre>cd ./git-1.8.x</pre>


<pre id="crayon-51152fba206b0-5">./configure</pre>


<pre id="crayon-51152fba206b0-6">make &amp;&amp; make install</pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Configuring Memcached]]></title>
    <link href="http://dyurk.github.io/blog/2013/01/11/configuring-memcached/"/>
    <updated>2013-01-11T16:45:26-05:00</updated>
    <id>http://dyurk.github.io/blog/2013/01/11/configuring-memcached</id>
    <content type="html"><![CDATA[<h3>What is memcached?</h3>


<p>memcached is a high-performance, distributed memory object caching system, generic in nature, but originally intended for use in speeding up dynamic web applications by alleviating database load.</p>

<h3>Configuring memcached</h3>


<p>Edit</p>

<pre>/etc/sysconfig/memcached</pre>


<p>Sample configuration. Cache size is important, it determines the amount of ram in megabytes that are allocated to memcached pool.</p>

<pre>PORT="11211"
USER="memcached"
MAXCONN="1024"
CACHESIZE="12288"
OPTIONS=""</pre>

]]></content>
  </entry>
  
</feed>
